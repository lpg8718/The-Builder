<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add New Project</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <style>
        body {
            overflow-x: hidden;
        }
        
 /* Profile Dropdown */
 .profile-dropdown {
     position: relative;
     display: inline-block;
 }

 .profile-pic {
     width: 40px;
     height: 40px;
     border-radius: 50%;
     cursor: pointer;
     border: 2px solid #facc15;
 }

 .dropdown-menu-custom {
     position: absolute;
     right: 0;
     top: 50px;
     background: #fff;
     border-radius: 10px;
     box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
     display: none;
     flex-direction: column;
     min-width: 160px;
     z-index: 10;
     animation: fadeIn 0.3s ease-in-out;
 }

 .dropdown-menu-custom a {
     padding: 10px 15px;
     color: #1e293b;
     text-decoration: none;
     transition: background 0.3s;
 }

 .dropdown-menu-custom a:hover {
     background: #facc15;
     color: #000;
 }

        .navbar {
            background: #072f57;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 10000;
        }

        .navbar .nav-link,
        .navbar-brand {
            color: white !important;
            font-weight: 500;
            font-size: 16px;
        }

        .navbar-brand {
            font-size: 20px;
            font-weight: bold;
        }

        .layout-wrapper {
            margin-top: 80px;
            padding-bottom: 80px;
        }

        footer {
            background: black;
            color: white;
            text-align: center;
            padding: 16px;
            width: 100%;
            position: fixed;
            bottom: 0;
            left: 0;
        }

        .form-card {
            background: #fff;
            padding: 35px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
        }

        .section-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            border-left: 4px solid #072f57;
            padding-left: 10px;
            color: #072f57;
        }
    </style>
</head>

<body>

    <!-- HEADER NAVBAR -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">üèó Contractor Dashboard</a>

            <button class="navbar-toggler bg-light" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/contractor">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/contractor/project_page1">Projects</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Workers</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Messages</a></li>

                    <li class="nav-item">
                        <div class="profile-dropdown">
                            <img src="/media/profile_images/{{ obj.user_profile_pic }}" class="profile-pic" id="profilePic">
                            <div class="dropdown-menu-custom" id="dropdownMenu">
                                <a href="/contractor/profile/">My Profile</a>
                                <a href="#">Settings</a>
                                <a href="/">Logout</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- MAIN FORM -->
    <div class="container layout-wrapper">
        <div class="form-card">

            <h3 class="text-center mb-4">‚ûï Add New Project</h3>

            <form action="" method="post" enctype="multipart/form-data">
                {% csrf_token %}

                <!-- BASIC DETAILS -->
                <div class="section-title">Basic Details</div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label>Project Title *</label>
                        <input type="text" class="form-control" name="project_title" placeholder="Enter project name" required>
                    </div>

                    <div class="col-md-6">
                        <label>Project Category *</label>
                        <select class="form-control"  name="project_category" required>
                            <option value="Building Construction">Building Construction</option>
                            <option value="Road Work">Road Work</option>
                            <option value="Interior Work">Interior Work</option>
                            <option value="Plumbing">Plumbing</option>
                            <option value="Electric Work">Electric Work</option>
                            <option value="Painting">Painting</option>
                        </select>
                    </div>
                </div>

                <!-- FINANCIAL DETAILS -->
                <div class="section-title">Financial Details</div>

                <div class="row mb-3">
                    <div class="col-md-4">
                        <label>Budget *</label>
                        <input type="number" class="form-control" name="budget" placeholder="Example: 25000000" required>
                    </div>

                    <div class="col-md-4">
                        <label>Payment Terms *</label>
                        <select class="form-control" name="payment_terms" required>
                            <option value="Milestone Based">Milestone Based</option>
                            <option value="Weekly Billing">Weekly Billing</option>
                            <option value="Monthly Billing">Monthly Billing</option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <label>Advance Payment</label>
                        <input type="number" class="form-control" name="advance_payment" placeholder="Example: 10000">
                    </div>
                </div>

                <!-- LOCATION -->
                <div class="section-title">Location Details</div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label>State *</label>
                        <input type="text" class="form-control" name="state" placeholder="Enter state" required>
                    </div>

                    <div class="col-md-6">
                        <label>City *</label>
                        <input type="text" class="form-control" name="city" placeholder="Enter city" required>
                    </div>

                    <div class="col-md-12 mt-3">
                        <label>Full Address</label>
                        <textarea class="form-control" name="full_address" rows="2"></textarea>
                    </div>
                </div>

                <!-- TIMELINE -->
                <div class="section-title">Timeline</div>

                <div class="row mb-3">
                    <div class="col-md-6">
                        <label>Start Date *</label>
                        <input type="date" name="start_date" class="form-control" required>
                    </div>

                    <div class="col-md-6">
                        <label>Deadline *</label>
                        <input type="date" name="deadline" class="form-control" required>
                    </div>
                </div>

                <!-- REQUIREMENTS -->
                <div class="section-title">Requirements</div>

                <div class="mb-3">
                    <label>Required Workers</label>
                    <input type="number" class="form-control" name="workers" placeholder="Example: 15 workers">
                </div>

                <div class="mb-3">
                    <label>Required Skills</label>
                    <input type="text" class="form-control" name="skills" placeholder="Example: Mason, Electrician, Plumber">
                </div>

                <!-- DESCRIPTION -->
                <div class="section-title">Project Description</div>

                <div class="mb-3">
                    <textarea class="form-control" rows="4" name="project_description" placeholder="Describe your project..."></textarea>
                </div>

                <!-- FILE UPLOAD -->
                <div class="section-title">Attachments</div>

                <div class="mb-3">
                    <label>Upload Documents (Blueprint, Layout, Plan)</label>
                    <input type="file" name="attachments" class="form-control" multiple>
                </div>

                <!-- SUBMIT BUTTON -->
                <button type="submit" class="btn btn-primary w-100 mt-3">üöÄ Submit Project</button>

            </form>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        ¬© 2025 The Builder Project | Contractor Dashboard
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const profilePic = document.getElementById("profilePic");
    const dropdownMenu = document.getElementById("dropdownMenu");

    profilePic.addEventListener("click", function (event) {
        event.stopPropagation();
        dropdownMenu.style.display =
            dropdownMenu.style.display === "block" ? "none" : "block";
    });

    // Close dropdown when clicking outside
    document.addEventListener("click", function () {
        dropdownMenu.style.display = "none";
    });
</script>

</body>

</html>
